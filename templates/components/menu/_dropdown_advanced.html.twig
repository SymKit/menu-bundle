<div class="relative" data-controller="dropdown" data-action="click@window->dropdown#hide">
    <button popovertarget="dropdown-{{ item.id }}" data-dropdown-target="button" data-action="click->dropdown#toggle"
        class="inline-flex items-center gap-x-1 rounded-md px-3 py-2 text-sm font-medium cursor-pointer {{ item.isActive ? 'bg-gray-900 text-white dark:bg-gray-950/50' : 'text-gray-300 hover:bg-white/5 hover:text-white' }}">
        <span>{{ item.label }}</span>
        <svg viewBox="0 0 20 20" fill="currentColor" data-slot="icon" aria-hidden="true"
            class="size-5 transition-transform duration-200" data-dropdown-target="icon">
            <path
                d="M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z"
                clip-rule="evenodd" fill-rule="evenodd" />
        </svg>
    </button>

    <div data-dropdown-target="menu" id="dropdown-{{ item.id }}"
        class="hidden absolute left-0 z-10 mt-5 w-screen max-w-md flex-auto overflow-hidden rounded-3xl bg-white text-sm/6 shadow-lg outline-1 outline-gray-900/5 lg:max-w-3xl dark:bg-gray-800 dark:shadow-none dark:-outline-offset-1 dark:outline-white/10">
        <div class="grid grid-cols-1 gap-x-6 gap-y-1 p-4 lg:grid-cols-2">
            {% for subitem in item.items %}
            <div class="group relative flex gap-x-6 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-white/5">
                <div
                    class="mt-1 flex size-11 flex-none items-center justify-center rounded-lg bg-gray-50 group-hover:bg-white dark:bg-gray-700/50 dark:group-hover:bg-gray-700">
                    {{ ux_icon(subitem.icon ?: 'heroicons:squares-2x2-20-solid', {class: 'size-6 text-gray-600
                    group-hover:text-indigo-600 dark:text-gray-400 dark:group-hover:text-white'}) }}
                </div>
                <div>
                    <a href="{{ subitem.url }}" class="font-semibold text-gray-900 dark:text-white">
                        {{ subitem.label }}
                        <span class="absolute inset-0"></span>
                    </a>
                    <p class="mt-1 text-gray-600 dark:text-gray-400">{{ subitem.description|default('') }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
        {% if item.footerLabel %}
        <div class="bg-gray-50 px-8 py-6 dark:bg-gray-700/50">
            <div class="flex items-center gap-x-3">
                <h3 class="text-sm/6 font-semibold text-gray-900 dark:text-white">{{ item.footerLabel }}</h3>
                {% if item.footerBadge %}
                <p
                    class="rounded-full bg-indigo-600/10 px-2.5 py-1.5 text-xs font-semibold text-indigo-600 dark:bg-indigo-400/10 dark:text-indigo-400">
                    {{ item.footerBadge }}
                </p>
                {% endif %}
            </div>
            <p class="mt-2 text-sm/6 text-gray-600 dark:text-gray-400">{{ item.footerDescription }}</p>
        </div>
        {% endif %}
    </div>
</div>